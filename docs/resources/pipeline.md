---
page_title: "redpanda_pipeline Resource - terraform-provider-redpanda"
subcategory: ""
description: |-
  Manages a Redpanda Connect pipeline. Redpanda Connect is a declarative data streaming service that connects various data sources and sinks.
---

# redpanda_pipeline (Resource)

Manages a Redpanda Connect pipeline. Redpanda Connect is a declarative data streaming service that connects various data sources and sinks.

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `cluster_api_url` (String) The cluster API URL. Changing this will prevent deletion of the resource on the existing cluster. It is generally a better idea to delete an existing resource and create a new one than to change this value unless you are planning to do state imports.
- `config_yaml` (String, Sensitive) The Redpanda Connect pipeline configuration in YAML format. See https://docs.redpanda.com/redpanda-cloud/develop/connect/configuration/about for configuration details.
- `display_name` (String) User-friendly display name for the pipeline.

### Optional

- `allow_deletion` (Boolean) Allows deletion of the pipeline. Default is false. Must be set to true to delete the resource.
- `description` (String) Optional description of the pipeline.
- `resources` (Attributes) Resource allocation for the pipeline. (see [below for nested schema](#nestedatt--resources))
- `service_account` (Attributes) Service account credentials for the pipeline. Used to authenticate the pipeline with external services. (see [below for nested schema](#nestedatt--service_account))
- `state` (String) Desired state of the pipeline: 'running' or 'stopped'. The provider will ensure the pipeline reaches this state after create/update operations.
- `tags` (Map of String) Key-value pairs to tag the pipeline for organization and filtering.
- `timeouts` (Attributes) (see [below for nested schema](#nestedatt--timeouts))

### Read-Only

- `id` (String) The unique identifier of the pipeline.
- `url` (String) URL to connect to the pipeline's HTTP server, if applicable.

<a id="nestedatt--resources"></a>
### Nested Schema for `resources`

Optional:

- `cpu_shares` (String) Amount of CPU to allocate for the pipeline.
- `memory_shares` (String) Amount of memory to allocate for the pipeline.


<a id="nestedatt--service_account"></a>
### Nested Schema for `service_account`

Required:

- `client_id` (String) The client ID for the service account.
- `client_secret` (String, [Write-only](https://developer.hashicorp.com/terraform/language/resources/ephemeral#write-only-arguments)) The client secret for the service account (write-only, not stored in state). Requires Terraform 1.11+.

Optional:

- `secret_version` (Number) Version number for client_secret. Increment to trigger a secret update.


<a id="nestedatt--timeouts"></a>
### Nested Schema for `timeouts`

Optional:

- `create` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours).
- `delete` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours). Setting a timeout for a Delete operation is only applicable if changes are saved into state before the destroy operation occurs.
- `update` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours).

## Example Usage

```terraform
provider "redpanda" {}

resource "redpanda_resource_group" "example" {
  name = "example-resource-group"
}

resource "redpanda_network" "example" {
  name              = "example-network"
  resource_group_id = redpanda_resource_group.example.id
  cloud_provider    = "aws"
  region            = "us-west-2"
  cluster_type      = "dedicated"
  cidr_block        = "10.0.0.0/20"
}

resource "redpanda_cluster" "example" {
  name              = "example-cluster"
  resource_group_id = redpanda_resource_group.example.id
  network_id        = redpanda_network.example.id
  cloud_provider    = "aws"
  region            = "us-west-2"
  cluster_type      = "dedicated"
  connection_type   = "public"
  throughput_tier   = "tier-1-aws-v2-arm"
  zones             = ["usw2-az1", "usw2-az2", "usw2-az3"]
}

resource "redpanda_pipeline" "example" {
  cluster_api_url = redpanda_cluster.example.cluster_api_url
  display_name    = "example-pipeline"
  description     = "An example Redpanda Connect pipeline"
  state           = "stopped"

  config_yaml = <<-YAML
    input:
      generate:
        interval: "1s"
        mapping: |
          root.message = "hello world"
          root.timestamp = now()

    output:
      stdout: {}
  YAML

  resources = {
    memory_shares = "256Mi"
    cpu_shares    = "200m"
  }

  tags = {
    "environment" = "example"
    "managed-by"  = "terraform"
  }
}
```

## Import

```shell
terraform import redpanda_pipeline.example pipelineId,clusterId
```

Where `pipelineId` is the ID of the pipeline and `clusterId` is the ID of the cluster in Redpanda Cloud.

## API Reference

For more information, see the [Redpanda Cloud Data Plane API documentation](https://docs.redpanda.com/api/cloud-dataplane-api/).
